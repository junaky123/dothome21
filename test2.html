<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .div1{
            background-color: red;
            color: white;
            padding: 10px;
            border-radius: 5px;
        }
        .div2{
            background-color: skyblue;
            color: white;
            border-radius: 10px;
            padding: 10px;
        }
        .div2 div{
            background:white;
            color: black;
            border-radius: 10px;
            padding: 5px;
        }
        table tr th{
            font-size: 20px;
            text-align: center;
        }
        table tr td{
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>기초이해</h1>
    <h2>1.기억부류(스토리지 클래스)</h2>
    <p>변수나 함수를 선언할 떄 사용되는 키워드</p>
    <ol>
        <li>변수나 함수의 <span style="color: red;">저장 위치와 사용 범위</span>를 결정</li>
        <li>변수나 함수 선언 시 <span style="color: red;">맨 앞에 지정</span></li>
        <li>변수의 디폴트 기억 부류는 <span style="color: red;">auto</span>이고,함수의 디폴트 기억 부류는 <span style="color: red;">extern</span></li>
    </ol>
    사진1
    <h2>2.auto변수</h2>
    <p><span style="color: red;">지역 변수</span>는 디폴트로 auto 기억 부류를 사용 <br>->auto 지역 변수는 선언된 위치에서 자동으로 생성되고,선언된 블록을 빠져나갈 떄 자동으로 해제됨</p>
    <em>전역 변수에는 auto 지정 불가</em>
    <pre>
        <code>
            int main(void)
            {
                <span style="color: red;">auto</span>auto int <span style="color: red;">x </span> = 10;  <span style="color: red;">--- auto 변수를 선언함</span>
                int  <span style="color: red;">y</span> = 20;  <span style="color: red;">auto를 생략해도 y는 auto 변수임</span>
            }
        </code>
    </pre>
    <div class="div1">for 루프에서 선언 시 루프 내에서만 통용</div>
    <pre>
        <code>
            for(int i=0; i&lt;5; i++)
                printf("%d",i);
        </code>
    </pre>
    <h2>3.register 변수</h2>
    <ol>
        <li>변수를 메모리에 할당하는 대신 <span style="color: red;">CPU의 레지스터에 할당</span></li>
        <li>변수를 레지스터에 할당하면 변수에 좀 더 빠르게 접근</li>
        <li>보통 루프 제어 변수를 레지스터 변수로 선언</li>
        <pre>
            <code>
                <span style="color: red;">register</span> int i;
                for (i=0;i&lt;10000;i++) <span style="color: red;">---레지스터 변수를 선언함</span>
                    sum +=i;
            </code>
        </pre>
        <li>register 변수로 선언해도 변수가 레지스터에 할당되지 않을 수 있음</li>
        <li>레지스터 변수에 대해서는 주소 구하기 연산자를 사용할 수 없음</li>
        <pre>
            <code>
                <span style="color: red;">register</span> int i;
                printf("%p",&i); <span style="color: red;">---레지스터 변수의 주소는 구할 수 없으므로 컴파일 에러</span>
            </code>
        </pre>
    </ol>
    <h2>4.global 변수</h2>
    <ol>
        <li>다른 곳에 선언된 변수에 대하여 별도의 메모리 할당 없이 해당 변수를 사용</li>
        <li>전역 변수를 코드 중간에 선언하면,전역 변수가 선언된 뒤쪽에 정의된 함수에서만 전역 변수를 사용 가능</li>
    </ol>
    사진2
    <div class="div2">전방 선언 (Forward Declaration)
        <div>전역 변수에 대한 extern선언이 있으면 전역 변수가 선언된 위치와 관계없이 전역 변수 사용 가능</div>
    </div>
    사진3
    사진4
    <hr>
    <h1>정적 변수</h1>
    <h2>1.정적 지역 변수</h2>
    <p>키워드:<span style="color: red;">static</span></p>
    <ol>
        <li>번역 과정의 마지막 단계인 적재 시간에 기억 장소를 할당받는 변수</li>
        <li>전체 프로그램의 시작부터 종료까지를 생존 기간으로 하며 동일 기억 장소를 유지</li>
        <li>초기화는 기억 공간 할당 시 한 번만 초기화됨</li>
        <li>정적 지역 변수는 전역 변수처럼 프로그램이 시작할 떄 메모리에 할당되고 프로그램이 종료할 때 해제</li>
        <li>전역 변수와느 달리 정적 지역 변수는 선언된 함수 안에서만 사용</li>
        <li>정적 지역 변수는 함수가 리턴하더라도 해제되지 않고 남아있다가 그 다음 함수 호출 시 그대로 다시 이용</li>
    </ol>
    <pre>
        <code>
            <span style="color: red;">char*Reverse(const char *str)</span> <span style="color: seagreen;">----주소(char*)를 리턴하는 함수</span>
            {
                <span style="color: red;">char result[80];</span> <span style="color: seagreen;;">----result 배열을 지역 변수로 선언함</span>
                int i;
                int ien = strlen(str); 
                for(i=0;i&lt;len;i++)
                    result[i] = str[len-i-1];
                result[i]='\0';
                <span style="color: red;"> return result ;</span> <span style="color: seagreen;;">----result 배열명 이므로 지역 변수인 배열의 주소를 리턴함</span>
            }                   <span style="color: seagreen;;">포인터를 리턴하는 함수를 정의할 때는 함수 안에 선언된 지역 변수의 주소를 리턴하지 않도록 주의해야 함</span>
        </code>
        <code>
            <span style="color: red;">char*Reverse(const char *str)</span>
            {
                <span style="color: red;">char result[80];</span> <span style="color: seagreen;;">----result 배열을 정적 지역 변수로 선언함</span>
                int i;
                int ien = strlen(str); 
                for(i=0;i&lt;len;i++)
                    result[i] = str[len-i-1];
                result[i]='\0';
                <span style="color: red;"> return result ;</span> <span style="color: seagreen;;">----정적 지역 변수의 주소를 리턴함</span>
            }                   <span style="color: seagreen;;">result를 정적 지역 변수로 선언하면 함수가 리턴하더라도 해제되지 않으므로 올바른 실행 결과를 얻을 수 있음</span>
        </code>
    </pre>
    <h2>2.정적 전역 변수</h2>
    <ul>
        <li>정적 전역 변수는 정적 전역 변수가 선언된 소스 파일에서만 사용</li>
        <li>정적 전역 변수는 전역 변수를 다른 소스 파일에서 접근하지 못하도록 제한</li>
    </ul>
    사진5
    <h2>3.스토리지 클래스 비교</h2>
    <table class="table">
        <tr>
            <th>구분</th>
            <th>일반 지역 변수</th>
            <th>정적 지역 변수</th>
            <th>전역 변수</th>
            <th>정적 전역 변수</th>
        </tr>
        <tr>
            <td>선언위치</td>
            <td>함수 안</td>
            <td>함수 안</td>
            <td>함수 밖</td>
            <td>함수 밖</td>
        </tr>
        <tr>
            <td>생성 시점</td>
            <td>변수 선언 시</td>
            <td>프로그램 시작 시</td>
            <td>프로그램 시작 시</td>
            <td>프로그램 시작 시</td>
        </tr>
        <tr>
            <td>해제 시점</td>
            <td>함수 리턴 시</td>
            <td>프로그램 종료 시</td>
            <td>프로그램 종료 시</td>
            <td>프로그램 종료 시</td>
        </tr>
        <tr>
            <td>사용범위</td>
            <td>함수 안</td>
            <td>함수 안</td>
            <td>프로그램 전체</td>
            <td>선언된 소스 파일</td>
        </tr>
        <tr>
            <td>초기화 하지 않았을 떄</td>
            <td>쓰레기 값</td>
            <td>0으로 초기화</td>
            <td>0으로 초기화</td>
            <td>0으로 초기화</td>
        </tr>
    </table>
    <h2>핵심요약</h2>
    <div class="welll">
        <h2>기초 이해</h2>
        <ul>
            <li>지역 변수느 자동 변수임</li>
            <li>자동 변수는 선언된 블록을 빠져나가면 소멸됨</li>
            <li>레지스터 변수는 CPU의 레지스터에 할당되는 메모리로 빠른 액세스가 가능함</li>
            <li>전역 변수는 프로그램 전체에서 통용되고 다른 파일에서도 통용 가능함</li>
        </ul>
    </div>
    <div class="well">
        <h2>정적 변수</h2>
        <ul>
            <li>정적 지역 변수는 할당 시 한 번만 초기화 되고 선언된 블럭을 빠져나가도 소멸되지않음</li>
            <li>정적 전역 변수는 프로그램 전체에서 사용 가능함</li>
            <li>정적 변수는 할당 시 0으로 초기화됨</li>
        </ul>
    </div>
</body>
</html>